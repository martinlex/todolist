function enableBtn(){todoInput.value?todoBtn.classList.remove("is-disabled"):todoBtn.classList.add("is-disabled")}function checkEmptyState(){todoList.hasChildNodes()?hideEmptyState():(showEmptyState(),usedTagsColors=[])}function hideEmptyState(){emptyState.classList.add("is-hidden"),todoState.classList.remove("is-hidden")}function showEmptyState(){emptyState.classList.remove("is-hidden"),todoState.classList.add("is-hidden")}function setFocus(){todoInput.focus()}function getTodoItem(){var e=todoInput.value;return!!(e=e.toLowerCase())&&(console.log("[Entry]:",e),addTodoToList(e),enableBtn(),checkEmptyState(),void 0)}function addTodoToList(e){var t=findTags(e,t),o=e;for(i=0;i<t.length;i++)o=o.replace(t[i],"");return console.log("[Extracted todo]:",o),console.log("[Extracted tags]:",t),""==o?(flickerErrorMsg("Looks like you forgot something?"),!1):void checkStoreUsedTagsColors(t,o)}function flickerErrorMsg(e){const t=document.querySelector(".error-message");t.innerHTML=e,t.classList.remove("is-hidden"),setTimeout(function(){t.classList.add("is-hidden")},2e3)}function findTags(e,t){var o=/\S*#(?:\[[^\]]+\]|\S+)/g,t=e.match(o);return!!t&&t}function checkStoreUsedTagsColors(e,t){if(Array.prototype.containsByProp=function(e,t){for(var o=this.length-1;o>-1;o--){var s=this[o];if(s[e]===t)return!0}return!1},usedTagsColors.length>0)for(var o=0;o<e.length;o++){console.log(e,e.length);var s=e[o];console.log("Input tag:",o,s),1==usedTagsColors.containsByProp("tag",s)?console.log("Exists:",s):(console.log("Push:",s),tagColor=createRandomColor(tagColor),usedTagsColors.push({tag:s,tagColor:tagColor}))}else if(0==usedTagsColors.length)for(var n=0;n<e.length;n++)console.log("Initial push:",e[n]),tagColor=createRandomColor(tagColor),usedTagsColors.push({tag:e[n],tagColor:tagColor});createLiElem(t,e)}function createRandomColor(e){for(var e="#",t="9BDF",o=3,s=0;s<o;s++)e+=t[Math.floor(Math.random()*t.length)];return console.log("[Builds random color]:",e),renderedTagColor.color=e,e}function createLiElem(e,t){var o=document.createElement("li");o.classList.add("todo-list__list-item");var s=document.createTextNode(e);o.appendChild(s),createDeleteElem(s,t,o)}function createDeleteElem(e,t,o){var s=document.createElement("img");s.classList.add("delete-icon"),s.setAttribute("src",path+"times.svg"),o.appendChild(s),createSpacerElem(t,o)}function createSpacerElem(e,t){var o=document.createElement("span");o.classList.add("spacer"),t.appendChild(o),createTagElem(e,t)}function createTagElem(e,t){for(var o=0;o<e.length;o++)if(e){var s=document.createElement("span");s.classList.add("tag");var n=e[o].replace("#",""),a=document.createTextNode(n);s.appendChild(a),t.appendChild(s)}renderListItem(e,s,t)}function renderListItem(e,t,o){todoList.appendChild(o),updateDeleteIcons(),clearInput(),setFocus()}function updateDeleteIcons(){var e=document.querySelectorAll(".delete-icon");for(i=0;i<e.length;i++)e[i].addEventListener("click",deleteTodo);repaintTags()}function deleteTodo(){this.classList.add("check-icon"),this.setAttribute("src",path+"check.svg");var e=this;shrinkIt(e)}function shrinkIt(e){var t=300;setTimeout(function(){e.parentNode.classList.add("is-deleted"),deleteIt(e,t)},t)}function deleteIt(e,t){setTimeout(function(){e.parentNode.parentNode.removeChild(e.parentNode),checkEmptyState(),setFocus()},t)}function clearInput(){todoInput.value=""}function repaintTags(){for(var e=document.querySelectorAll(".tag"),t=0;t<e.length;t++)for(var o=e[t],s=0;s<usedTagsColors.length;s++){var n=usedTagsColors[s].tag.replace("#","");o.innerHTML==n&&(o.style.backgroundColor=usedTagsColors[s].tagColor)}}const todoInput=document.querySelector(".js-todo-input"),todoBtn=document.querySelector(".js-todo-btn"),todoList=document.querySelector(".js-todo-list"),todoState=document.querySelector(".js-todo-state"),emptyState=document.querySelector(".js-empty-state");var newTodoElem,colors=usedTagsColors=[],renderedTagColor={},newTodoWithoutTags="",tag=tagColor=newTagsList="",path="dist/images/";window.onload=function(){todoInput.addEventListener("keyup",enableBtn),todoBtn.addEventListener("click",getTodoItem),checkEmptyState(),setFocus()};